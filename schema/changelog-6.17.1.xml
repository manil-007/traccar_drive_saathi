<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd"
        logicalFilePath="changelog-6.17.1">

  <changeSet author="author" id="changelog-6.17.1-1">
    
    <!-- Add missing consignor/consignee ID columns -->
    <addColumn tableName="tc_trips">
      <column name="consignorid" type="INT" afterColumn="othertransportername">
        <constraints nullable="true"/>
      </column>
    </addColumn>

    <addColumn tableName="tc_trips">
      <column name="otherconsignorname" type="VARCHAR(255)" afterColumn="consignorname">
        <constraints nullable="true"/>
      </column>
    </addColumn>

    <addColumn tableName="tc_trips">
      <column name="consigneeid" type="INT" afterColumn="otherconsignorname">
        <constraints nullable="true"/>
      </column>
    </addColumn>

    <!-- Add missing driver columns -->
    <addColumn tableName="tc_trips">
      <column name="drivernumber" type="VARCHAR(100)" afterColumn="bookingdate">
        <constraints nullable="true"/>
      </column>
    </addColumn>

    <addColumn tableName="tc_trips">
      <column name="drivercontact" type="VARCHAR(20)" afterColumn="drivermobile">
        <constraints nullable="true"/>
      </column>
    </addColumn>

    <addColumn tableName="tc_trips">
      <column name="driverlicense" type="VARCHAR(100)" afterColumn="drivercontact">
        <constraints nullable="true"/>
      </column>
    </addColumn>

  </changeSet>

</databaseChangeLog>
